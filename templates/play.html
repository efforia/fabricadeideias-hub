{% include "../../templates/social.html" %}
<title>{% block title %}Toque{% end %}</title>
<div id="conteudoCentral">
	<div id="inferior">
	{% for entry in feed.entry %}
		<div title={{ entry.media.title.text }} class="quadrado">
		<div class="quadradoFlip"><img src={{ entry.media.thumbnail[0].url }} width=100% height=100%></div>
		<div class="dadosQuadrado"><div class="descrQuadrado"><h3><dl>
		<dt>{{ entry.media.title.text }}       </dt>
		<dt><a class="ui-button ui-widget ui-state-default ui-corner-all" href="{{ entry.GetSwfUrl() }}"><span class="ui-button-text">Tocar</span></a></dt>
		</dl></h3></div></div></div>
	{% end %}
	</div>{% block canvas %}{% end %}
	<div class="superior"><canvas id="efforia"></canvas></div>
	<div id="dialogo" title="O que você verá hoje?">
	<script type="text/javascript" src="swfobject.js"></script>    
  	<script type="text/javascript">
		  		/*
		 * Chromeless player has no controls.
		 */
		
		// Update a particular HTML element with a new value
		function updateHTML(elmId, value) {
		  document.getElementById(elmId).innerHTML = value;
		}
		
		// This function is called when an error is thrown by the player
		function onPlayerError(errorCode) {
		  alert("An error occured of type:" + errorCode);
		}
		
		// This function is called when the player changes state
		function onPlayerStateChange(newState) {
		  updateHTML("playerState", newState);
		}
		
		// Display information about the current state of the player
		function updatePlayerInfo() {
		  // Also check that at least one function exists since when IE unloads the
		  // page, it will destroy the SWF before clearing the interval.
		  if(ytplayer && ytplayer.getDuration) {
		    updateHTML("videoDuration", ytplayer.getDuration());
		    updateHTML("videoCurrentTime", ytplayer.getCurrentTime());
		    updateHTML("bytesTotal", ytplayer.getVideoBytesTotal());
		    updateHTML("startBytes", ytplayer.getVideoStartBytes());
		    updateHTML("bytesLoaded", ytplayer.getVideoBytesLoaded());
		    updateHTML("volume", ytplayer.getVolume());
		  }
		}
		
		// Allow the user to set the volume from 0-100
		function setVideoVolume() {
		  var volume = parseInt(document.getElementById("volumeSetting").value);
		  if(isNaN(volume) || volume < 0 || volume > 100) {
		    alert("Please enter a valid volume between 0 and 100.");
		  }
		  else if(ytplayer){
		    ytplayer.setVolume(volume);
		  }
		}
		
		function playVideo() {
		  if (ytplayer) {
		    ytplayer.playVideo();
		  }
		}
		
		function pauseVideo() {
		  if (ytplayer) {
		    ytplayer.pauseVideo();
		  }
		}
		
		function muteVideo() {
		  if(ytplayer) {
		    ytplayer.mute();
		  }
		}
		
		function unMuteVideo() {
		  if(ytplayer) {
		    ytplayer.unMute();
		  }
		}
		
		
		// This function is automatically called by the player once it loads
		function onYouTubePlayerReady(playerId) {
		  ytplayer = document.getElementById("ytPlayer");
		  // This causes the updatePlayerInfo function to be called every 250ms to
		  // get fresh data from the player
		  setInterval(updatePlayerInfo, 250);
		  updatePlayerInfo();
		  ytplayer.addEventListener("onStateChange", "onPlayerStateChange");
		  ytplayer.addEventListener("onError", "onPlayerError");
		  //Load an initial video into the player
		  ytplayer.cueVideoById("PgYKSxQeipE");
		}
		
		// The "main method" of this sample. Called when someone clicks "Run".
		function loadPlayer() {
		  // Lets Flash from another domain call JavaScript
		  var params = { allowScriptAccess: "always" };
		  // The element id of the Flash embed
		  var atts = { id: "ytPlayer" };
		  // All of the magic handled by SWFObject (http://code.google.com/p/swfobject/)
		  swfobject.embedSWF("http://www.youtube.com/apiplayer?" +
		                     "modestbranding=1&version=3&enablejsapi=1&playerapiid=player1",
		                     "videoDiv", "480", "295", "9", null, null, params, atts);
		}
		/*var params = { allowScriptAccess: "always" };
		var atts = { id: "myytplayer" };
    	swfobject.embedSWF("http://www.youtube.com/v/PgYKSxQeipE?enablejsapi=1&playerapiid=ytplayer","ytapiplayer", "425", "356", "8", null, null, params, atts);*/
  	</script>
  	<div id="videoDiv">
    	<object width="480" height="295" type="application/x-shockwave-flash" id="ytPlayer" data="http://www.youtube.com/apiplayer?version=3&amp;enablejsapi=1&amp;playerapiid=player1"><param name="allowScriptAccess" value="always"></object>
    </div>
    <!--<td valign="top">
      <div id="videoInfo">
        <p>Player state: <span id="playerState">--</span></p>
        <p>Current Time: <span id="videoCurrentTime">--:--</span> | Duration: <span id="videoDuration">--:--</span></p>
        <p>Bytes Total: <span id="bytesTotal">--</span> | Start Bytes: <span id="startBytes">--</span> | Bytes Loaded: <span id="bytesLoaded">--</span></p>
        <p>Controls: <a href="javascript:void(0);" onclick="playVideo();">Play</a> | <a href="javascript:void(0);" onclick="pauseVideo();">Pause</a> | <a href="javascript:void(0);" onclick="muteVideo();">Mute</a> | <a href="javascript:void(0);" onclick="unMuteVideo();">Unmute</a></p>
        <p><input id="volumeSetting" type="text" size="3" />&nbsp;<a href="javascript:void(0)" onclick="setVideoVolume();">&lt;- Set Volume</a> | Volume: <span id="volume">--</span></p>
      </div>
    </td>!-->
	</div>
</div>
